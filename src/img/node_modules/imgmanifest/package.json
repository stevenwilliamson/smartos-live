{
  "name": "imgmanifest",
  "description": "Library for working with SmartOS/SDC image manifests",
  "version": "1.1.1",
  "author": {
    "name": "Joyent",
    "url": "joyent.com"
  },
  "private": true,
  "main": "./lib/imgmanifest.js",
  "dependencies": {
    "assert-plus": "0.1.2"
  },
  "devDependencies": {
    "jshint": "0.5",
    "nodeunit": "0.7.4"
  },
  "engines": {
    "node": ">=0.8"
  },
  "readme": "# node-imgmanifest -- a node.js lib for working with SmartOS image manifests\n\nRepository: <git@git.joyent.com:node-imgmanifest.git>\nBrowsing: <https://mo.joyent.com/node-imgmanifest>\nWho: Trent Mick\nTickets/bugs: <https://devhub.joyent.com/jira/browse/IMGAPI>\nDocs: <https://mo.joyent.com/docs/imgapi/master/#image-manifests>\n\n\n# Overview\n\nThe SmartOS/SDC Image system involves a number of pieces:\n\n1. The `imgadm` tool in SmartOS for installing and managing images for VM\n   creation.\n2. The IMGAPI server in SmartDataCenter instances.\n3. The Joyent Images API, https://images.joyent.com.\n4. Possibly 3rd-party IMGAPI instances.\n5. The legacy Joyent Datasets API, https://datasets.joyent.com.\n6. `*-imgadm` tools for managing the above API servers.\n\nMost or all of these require being able to upgrade and validate image\nmanifests. This is the library for it.\n\n\n# Usage\n\n    var imgmanifest = require('imgmanifest');\n\n    // The latest Image manifest format version, i.e. the 'v' field\n    // in a manifest.\n    console.log(imgmanifest.V);\n\n    // Upgrade a manifest to the latest manifest format version.\n    var manifest = imgmanifest.upgradeManifest(manifest);\n\n    // Validate a manifest, according to the \"minimal\" requirements.\n    // \"Minimal\" requirements are those that, e.g., 'imgadm install'\n    // requires and that 'imgadm create' creates. It does require\n    // the manifest to include fields that are added by an IMGAPI\n    // repository. Returns null if the manifest is valid.\n    var errs = imgmanifest.validateMinimalManifest(manifest);\n\n\nNote: Current implementation of manifest validation here is **incomplete**.\n\n\n# Validation Errors\n\nThe `errs` returned by a `validate*Manifest` function is an array of\nobjects, e.g.:\n\n    [\n        {\n            \"field\": \"name\",\n            \"code\": \"MissingParameter\",\n        },\n        {\n            \"field\": \"os\",\n            \"code\": \"Invalid\",\n            \"message\": \"invalid os, \\\"my-os\\\", must be one of: smartos, linux, windows, other\"\n        }\n    ]\n\nEach error object will always include \"field\" and \"code\" keys and **may**\ninclude a \"message\" string field. Current error \"code\" values are:\n\n||MissingParameter||A required parameter was not provided.||\n||Invalid||The formatting of the field is invalid.||\n\n\nNote: This error format is based on\n<https://mo.joyent.com/docs/eng/master/#error-handling>.\n\n\n# License\n\nCDDL\n\n",
  "readmeFilename": "README.md",
  "_id": "imgmanifest@1.1.1",
  "dist": {
    "shasum": "1273074ef23a8705d9e0272ec39d302f117be36b"
  },
  "_resolved": "git+ssh://git@git.joyent.com:node-imgmanifest.git#c426fc3dd3d52efb11dd97ab575dbfe9887e4fd6",
  "_from": "imgmanifest@git+ssh://git@git.joyent.com:node-imgmanifest.git#c426fc3"
}
